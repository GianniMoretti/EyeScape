<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="../css/Prova.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@500&display=swap" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Cabin+Condensed:700' rel='stylesheet' type='text/css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!--<script type="text/javascript" src="../Scripts/Aquarium_plugin_initTRY.js"></script>
    <script type="text/javascript" src="../Scripts/jQuery.pluginTRY.js"></script> -->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
            integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
            integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <style>
        .error-label {
            font-size: 12px;
            color: red;
        }
    </style>
</head>


<body>

<nav class="navbar " style="background-color: #131d47;">
    <div class="container-fluid ">
        <a class="navbar-brand mx-auto" href="#">
            <img src="../../../Assets/Logo/Logo-completoTransparent.png" alt="" width="230" height="60"
                 class="d-inline-block align-text-top">
        </a>
        <a class="navbar-brand justify-content-end">
            <button type="button" class="btn btn-outline-light" id="Logout"><i class="bi bi-box-arrow-right"></i> Logout
            </button>
        </a>
    </div>


</nav>


<div class="WelcomeWrite">
    <svg viewbox="0 0 100 20">
        <defs>
            <linearGradient id="gradient" x1="0" x2="0" y1="0" y2="1">
                <stop offset="5%" stop-color="#131D47"/>
                <stop offset="95%" stop-color="#9AECED"/>
            </linearGradient>
            <pattern id="wave" x="0" y="0" width="120" height="20" patternUnits="userSpaceOnUse">
                <path id="wavePath"
                      d="M-40 9 Q-30 7 -20 9 T0 9 T20 9 T40 9 T60 9 T80 9 T100 9 T120 9 V20 H-40z"
                      mask="url(#mask)" fill="url(#gradient)">
                    <animateTransform
                            attributeName="transform"
                            begin="0s"
                            dur="2.5s"
                            type="translate"
                            from="0,0"
                            to="40,0"
                            repeatCount="indefinite"/>
                </path>
            </pattern>
        </defs>
        <text text-anchor="middle" x="50" y="15" font-size="17" fill="url(#wave)" fill-opacity="0.9">
            WELCOME
        </text>
        <text text-anchor="middle" x="50" y="15" font-size="17" fill="url(#gradient)" fill-opacity="0.7">
            WELCOME
        </text>
    </svg>
</div>

<div class="container text-center">
    <div class="row align-self-center">
        <div class="col">
        </div>
        <div class="col">
            <p class="fs-1" id="afterWelcome" style="font-weight: bold"></p>
        </div>
        <div class="col">
        </div>
    </div>
    <hr class="border border-dark border-2 opacity-75 " style="border-radius: 50%; width: 100%; margin-top: 20px">

</div>

<div class="container text-center" style="font-weight: bold; font-size:30px;">
    <div class="row" style="margin-top: 7%; margin-bottom: 8%">
        <div class="col">
            <div class="p-3 bg-info bg-opacity-10 border border-info" style="border-radius: 50px">
                <div class="form-check form-switch" style=>
                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked1" checked>
                    <label class="form-check-label" for="flexSwitchCheckChecked1"><i class="bi bi-funnel-fill"></i>Filtri</label>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="p-3 bg-info bg-opacity-10 border border-info" style="border-radius: 50px">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked2" checked>
                    <label class="form-check-label" for="flexSwitchCheckChecked2"><i
                            class="bi bi-fan"></i>Areatori</label>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="p-3 bg-info bg-opacity-10 border border-info" style="border-radius: 50px">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked3" checked>
                    <label class="form-check-label" for="flexSwitchCheckChecked3"><i class="bi bi-thermometer-half"></i>Riscaldatori</label>
                </div>
            </div>
        </div>

    </div>
    <hr class="border border-dark border-2 opacity-75 " style="border-radius: 50%; width: 100%; ">
</div>


<p class="text-center">I miei acquari</p>
<div class="container text-center">
    <div class="row row-cols-2" id="append-div">
        <div class="col">
            <button type='button' class='btn btn-primary buttonAquarium' id="aquarium1"
                    style=" border-radius: 35px; border : #131D47 solid 4px; background-color: #9AECED; font-size: 30px;">
                <i class="bi bi-plus-circle" style=" width:50px; height: 50px;"></i></button>

        </div>
        <div class="col">
            <button type='button' class='btn btn-primary buttonAquarium' id="aquarium2"
                    style=" border-radius: 35px; border : #131D47 solid 4px; background-color: #9AECED; font-size:30px;">
                <i class="bi bi-plus-circle"></i></button>
        </div>
        <div class="col">
            <button type='button' class='btn btn-primary buttonAquarium' id="aquarium3"
                    style=" border-radius: 35px; border : #131D47 solid 4px; background-color: #9AECED; font-size: 30px;">
                <i class="bi bi-plus-circle"></i></button>
        </div>
        <div class="col">
            <button type='button' class='btn btn-primary buttonAquarium' id="aquarium4"
                    style=" border-radius: 35px; border : #131D47 solid 4px; background-color: #9AECED; font-size: 30px;">
                <i class="bi bi-plus-circle"></i></button>
        </div>
    </div>
</div>


</body>
</html>
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: "POST",
            url: "../Server/Php/Actions.php",
            data: {"action": "load"},
            dataType: 'JSON',
            success: function (response) {
                var element;
                console.log(response["id"][0])
                console.log(response["names"][0])
                if (response["id"][0] == 1) {
                    console.log(response["id"][0])
                    console.log(response["names"][0])
                    element = $("#aquarium1")
                    var text = response["names"][0]
                    element.html(text);
                    document.getElementById("aquarium1").classList.add("full");
                }
                if (response["id"][1] == 2) {
                    element = $("#aquarium2")
                    element.html(response["names"][1]);
                    document.getElementById("aquarium2").classList.add("full");
                }
                if (response["id"][2] == 3) {
                    element = $("#aquarium3")
                    element.html(response["names"][2]);
                    document.getElementById("aquarium3").classList.add("full");
                }
                if (response["id"][3] == 4) {
                    element = $("#aquarium4")
                    element.html(response["names"][3]);
                    document.getElementById("aquarium4").classList.add("full");
                }
                console.log(response["user"]);
                $("#afterWelcome").html(response["user"]);
            },
            error: function () {
                console.log("Ã¨ vuoto");
            }
        });
        $(".buttonAquarium").on("click", function (event) {
            var request_type = "insert"
            if (this.classList.contains("full"))
                window.location.href = "Aquarium.html"
            else {
                this.classList.add("full");
                //logica per richiedere il nome
                this.insertAdjacentHTML('afterend', '<label id="errorID" class="error-label"></label>\n' +
                    '<div class="input-group mb-3" id="buttonContainer">\n ' +
                    '                <input type="text" class="form-control" id="inputButton" placeholder="Aquarium name" aria-label="Aquarium name" ">\n' +
                    '                <button class="btn btn-outline-secondary btname" type="button" id="button-addon2">Button</button>\n' +
                    '            </div>');
            }
        })
    });
</script>


<script>
    $(document).ready(function () {
        $("#aquarium1").click(function () {
        });
    });
</script>


<script>
    $("#Logout").on("click", function (event) {

            $.ajax({
                type: "POST",
                url: "../Server/Php/Actions.php",
                data: {"action": "logout"},
                dataType: 'JSON',
                success: function (response) {
                    window.location.href = "Login.html"
                }
            })
        }
    );
</script>

<script>
    $(document).on("click", ".btname", function (event) {
        console.log("entra")
        var text = document.getElementById("inputButton").value;
        var bool = true;

        if (text === "" || text === " ") {
            bool = false;
            document.getElementById("errorID").innerHTML = "*inserisci il nome dell'acquario";
        }
        if (bool) {
            console.log("entra")
            $.ajax({
                type: "POST",
                url: "../Server/Php/Actions.php",
                data: {"text": text, "action": "insert"},
                dataType: 'JSON',
                success: function (response) {
                    window.location.href = "impostazioni.html";
                },
                error: function (response) {
                    console.log("errore");
                }
            });
        }
    });
</script>



